{"ast":null,"code":"var _jsxFileName = \"/Users/zrb/Documents/amazon/applications/dashboard/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Grid, Paper, Typography, Card, CardContent } from '@mui/material';\nimport { LineChart, Line, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport axios from 'axios';\nimport './App.css';\n\n// 修复Leaflet默认图标问题\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'\n});\nconst DISPATCH_CENTER_URL = 'http://localhost:8001';\nfunction App() {\n  _s();\n  const [statistics, setStatistics] = useState({\n    total_orders_today: 0,\n    active_vehicles: 0,\n    delivered_today: 0,\n    pending_orders: 0\n  });\n  const [orders, setOrders] = useState([]);\n  const [vehicles, setVehicles] = useState([]);\n  const [alerts, setAlerts] = useState([]);\n  const [demandPredictions, setDemandPredictions] = useState([]);\n  const [ws, setWs] = useState(null);\n  useEffect(() => {\n    // 连接WebSocket\n    const websocket = new WebSocket(`ws://localhost:8001/ws`);\n    websocket.onopen = () => {\n      console.log('WebSocket连接已建立');\n      setWs(websocket);\n    };\n    websocket.onmessage = event => {\n      const data = JSON.parse(event.data);\n      if (data.type === 'initial_state') {\n        setStatistics(data.data.statistics || statistics);\n        setOrders(Object.values(data.data.orders || {}));\n        setVehicles(Object.values(data.data.vehicles || {}));\n        setAlerts(data.data.alerts || []);\n        setDemandPredictions(Object.values(data.data.demand_predictions || {}));\n      } else if (data.type === 'order_assigned') {\n        // 更新订单状态 - 通过重新获取数据来更新\n        // 数据会通过定期轮询自动更新\n      } else if (data.type === 'alert') {\n        setAlerts(prev => [data.data, ...prev].slice(0, 50));\n      }\n    };\n    websocket.onerror = error => {\n      console.error('WebSocket错误:', error);\n    };\n    websocket.onclose = () => {\n      console.log('WebSocket连接已关闭');\n    };\n\n    // 定期获取数据\n    const fetchData = async () => {\n      try {\n        const [statsRes, ordersRes, vehiclesRes, alertsRes, predictionsRes] = await Promise.all([axios.get(`${DISPATCH_CENTER_URL}/api/v1/statistics`), axios.get(`${DISPATCH_CENTER_URL}/api/v1/orders`), axios.get(`${DISPATCH_CENTER_URL}/api/v1/vehicles`), axios.get(`${DISPATCH_CENTER_URL}/api/v1/alerts?limit=10`), axios.get(`${DISPATCH_CENTER_URL}/api/v1/demand-predictions`)]);\n        setStatistics(statsRes.data);\n        setOrders(ordersRes.data);\n        setVehicles(vehiclesRes.data);\n        setAlerts(alertsRes.data);\n        setDemandPredictions(predictionsRes.data);\n      } catch (error) {\n        console.error('获取数据失败:', error);\n      }\n    };\n    fetchData();\n    const interval = setInterval(fetchData, 5000); // 每5秒更新\n\n    return () => {\n      websocket.close();\n      clearInterval(interval);\n    };\n  }, []);\n\n  // 准备图表数据\n  const orderTrendData = orders.slice(-20).map((order, index) => ({\n    time: index,\n    orders: 1\n  }));\n  const vehicleStatusData = [{\n    status: '空闲',\n    count: vehicles.filter(v => v.status === 'IDLE').length\n  }, {\n    status: '装载中',\n    count: vehicles.filter(v => v.status === 'LOADING').length\n  }, {\n    status: '运输中',\n    count: vehicles.filter(v => v.status === 'IN_TRANSIT').length\n  }, {\n    status: '配送中',\n    count: vehicles.filter(v => v.status === 'DELIVERING').length\n  }];\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      flexGrow: 1,\n      p: 3,\n      backgroundColor: '#f5f5f5',\n      minHeight: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      component: \"h1\",\n      gutterBottom: true,\n      sx: {\n        mb: 3,\n        fontWeight: 'bold'\n      },\n      children: \"Amazon Logistics Network Real-Time Intelligent Dispatch System\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      sx: {\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              color: \"textSecondary\",\n              gutterBottom: true,\n              children: \"Total Orders Today\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              children: statistics.total_orders_today\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              color: \"textSecondary\",\n              gutterBottom: true,\n              children: \"Active Vehicles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              children: statistics.active_vehicles\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              color: \"textSecondary\",\n              gutterBottom: true,\n              children: \"Delivered Today\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              children: statistics.delivered_today\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              color: \"textSecondary\",\n              gutterBottom: true,\n              children: \"Pending Orders\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              color: \"error\",\n              children: statistics.pending_orders\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Order Trends\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 300,\n            children: /*#__PURE__*/_jsxDEV(LineChart, {\n              data: orderTrendData,\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Line, {\n                type: \"monotone\",\n                dataKey: \"orders\",\n                stroke: \"#8884d8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Vehicle Status Distribution\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 300,\n            children: /*#__PURE__*/_jsxDEV(BarChart, {\n              data: vehicleStatusData,\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"count\",\n                fill: \"#82ca9d\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 8,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2,\n            height: 400\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Real-Time Vehicle Locations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n            center: [45.5017, -73.5673],\n            zoom: 10,\n            style: {\n              height: '350px',\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n              url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n              attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), vehicles.map(vehicle => {\n              var _vehicle$speed_kmh;\n              return vehicle.latitude && vehicle.longitude && /*#__PURE__*/_jsxDEV(Marker, {\n                position: [vehicle.latitude, vehicle.longitude],\n                children: /*#__PURE__*/_jsxDEV(Popup, {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Vehicle ID:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 25\n                    }, this), \" \", vehicle.vehicle_id, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 74\n                    }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Status:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 25\n                    }, this), \" \", vehicle.status, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 66\n                    }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Speed:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 233,\n                      columnNumber: 25\n                    }, this), \" \", (_vehicle$speed_kmh = vehicle.speed_kmh) === null || _vehicle$speed_kmh === void 0 ? void 0 : _vehicle$speed_kmh.toFixed(1), \" km/h\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 233,\n                      columnNumber: 85\n                    }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Capacity:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 234,\n                      columnNumber: 25\n                    }, this), \" \", vehicle.current_capacity, \"/\", vehicle.max_capacity]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this)\n              }, vehicle.vehicle_id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 19\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2,\n            height: 400,\n            overflow: 'auto'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Real-Time Alerts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), alerts.length === 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"textSecondary\",\n            children: \"No Alerts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this) : alerts.map((alert, index) => {\n            var _alert$data, _alert$data2;\n            return /*#__PURE__*/_jsxDEV(Card, {\n              sx: {\n                mb: 1,\n                bgcolor: alert.severity === 'CRITICAL' ? '#ffebee' : '#fff3e0'\n              },\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"subtitle2\",\n                  color: \"error\",\n                  children: alert.severity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: ((_alert$data = alert.data) === null || _alert$data === void 0 ? void 0 : _alert$data.description) || ((_alert$data2 = alert.data) === null || _alert$data2 === void 0 ? void 0 : _alert$data2.anomaly_type) || '未知告警'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"textSecondary\",\n                  children: new Date(alert.timestamp).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"fj7VdGckbtDCgF06ZJccdXIIMDQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Box","Grid","Paper","Typography","Card","CardContent","LineChart","Line","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","MapContainer","TileLayer","Marker","Popup","L","axios","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","DISPATCH_CENTER_URL","App","_s","statistics","setStatistics","total_orders_today","active_vehicles","delivered_today","pending_orders","orders","setOrders","vehicles","setVehicles","alerts","setAlerts","demandPredictions","setDemandPredictions","ws","setWs","websocket","WebSocket","onopen","console","log","onmessage","event","data","JSON","parse","type","Object","values","demand_predictions","prev","slice","onerror","error","onclose","fetchData","statsRes","ordersRes","vehiclesRes","alertsRes","predictionsRes","Promise","all","get","interval","setInterval","close","clearInterval","orderTrendData","map","order","index","time","vehicleStatusData","status","count","filter","v","length","sx","flexGrow","p","backgroundColor","minHeight","children","variant","component","gutterBottom","mb","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","container","spacing","item","xs","sm","md","color","width","height","strokeDasharray","dataKey","stroke","fill","center","zoom","style","url","attribution","vehicle","_vehicle$speed_kmh","latitude","longitude","position","vehicle_id","speed_kmh","toFixed","current_capacity","max_capacity","overflow","alert","_alert$data","_alert$data2","bgcolor","severity","description","anomaly_type","Date","timestamp","toLocaleString","_c","$RefreshReg$"],"sources":["/Users/zrb/Documents/amazon/applications/dashboard/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Box, Grid, Paper, Typography, Card, CardContent } from '@mui/material';\nimport { LineChart, Line, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport axios from 'axios';\nimport './App.css';\n\n// 修复Leaflet默认图标问题\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n});\n\nconst DISPATCH_CENTER_URL = 'http://localhost:8001';\n\nfunction App() {\n  const [statistics, setStatistics] = useState({\n    total_orders_today: 0,\n    active_vehicles: 0,\n    delivered_today: 0,\n    pending_orders: 0\n  });\n  const [orders, setOrders] = useState([]);\n  const [vehicles, setVehicles] = useState([]);\n  const [alerts, setAlerts] = useState([]);\n  const [demandPredictions, setDemandPredictions] = useState([]);\n  const [ws, setWs] = useState(null);\n\n  useEffect(() => {\n    // 连接WebSocket\n    const websocket = new WebSocket(`ws://localhost:8001/ws`);\n    \n    websocket.onopen = () => {\n      console.log('WebSocket连接已建立');\n      setWs(websocket);\n    };\n\n    websocket.onmessage = (event) => {\n      const data = JSON.parse(event.data);\n      \n      if (data.type === 'initial_state') {\n        setStatistics(data.data.statistics || statistics);\n        setOrders(Object.values(data.data.orders || {}));\n        setVehicles(Object.values(data.data.vehicles || {}));\n        setAlerts(data.data.alerts || []);\n        setDemandPredictions(Object.values(data.data.demand_predictions || {}));\n      } else if (data.type === 'order_assigned') {\n        // 更新订单状态 - 通过重新获取数据来更新\n        // 数据会通过定期轮询自动更新\n      } else if (data.type === 'alert') {\n        setAlerts(prev => [data.data, ...prev].slice(0, 50));\n      }\n    };\n\n    websocket.onerror = (error) => {\n      console.error('WebSocket错误:', error);\n    };\n\n    websocket.onclose = () => {\n      console.log('WebSocket连接已关闭');\n    };\n\n    // 定期获取数据\n    const fetchData = async () => {\n      try {\n        const [statsRes, ordersRes, vehiclesRes, alertsRes, predictionsRes] = await Promise.all([\n          axios.get(`${DISPATCH_CENTER_URL}/api/v1/statistics`),\n          axios.get(`${DISPATCH_CENTER_URL}/api/v1/orders`),\n          axios.get(`${DISPATCH_CENTER_URL}/api/v1/vehicles`),\n          axios.get(`${DISPATCH_CENTER_URL}/api/v1/alerts?limit=10`),\n          axios.get(`${DISPATCH_CENTER_URL}/api/v1/demand-predictions`)\n        ]);\n\n        setStatistics(statsRes.data);\n        setOrders(ordersRes.data);\n        setVehicles(vehiclesRes.data);\n        setAlerts(alertsRes.data);\n        setDemandPredictions(predictionsRes.data);\n      } catch (error) {\n        console.error('获取数据失败:', error);\n      }\n    };\n\n    fetchData();\n    const interval = setInterval(fetchData, 5000); // 每5秒更新\n\n    return () => {\n      websocket.close();\n      clearInterval(interval);\n    };\n  }, []);\n\n  // 准备图表数据\n  const orderTrendData = orders.slice(-20).map((order, index) => ({\n    time: index,\n    orders: 1\n  }));\n\n  const vehicleStatusData = [\n    { status: '空闲', count: vehicles.filter(v => v.status === 'IDLE').length },\n    { status: '装载中', count: vehicles.filter(v => v.status === 'LOADING').length },\n    { status: '运输中', count: vehicles.filter(v => v.status === 'IN_TRANSIT').length },\n    { status: '配送中', count: vehicles.filter(v => v.status === 'DELIVERING').length },\n  ];\n\n  return (\n    <Box sx={{ flexGrow: 1, p: 3, backgroundColor: '#f5f5f5', minHeight: '100vh' }}>\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom sx={{ mb: 3, fontWeight: 'bold' }}>\n        Amazon Logistics Network Real-Time Intelligent Dispatch System\n      </Typography>\n\n      {/* 统计卡片 */}\n      <Grid container spacing={3} sx={{ mb: 3 }}>\n        <Grid item xs={12} sm={6} md={3}>\n          <Card>\n            <CardContent>\n              <Typography color=\"textSecondary\" gutterBottom>\n                Total Orders Today\n              </Typography>\n              <Typography variant=\"h4\">\n                {statistics.total_orders_today}\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={12} sm={6} md={3}>\n          <Card>\n            <CardContent>\n              <Typography color=\"textSecondary\" gutterBottom>\n                Active Vehicles\n              </Typography>\n              <Typography variant=\"h4\">\n                {statistics.active_vehicles}\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={12} sm={6} md={3}>\n          <Card>\n            <CardContent>\n              <Typography color=\"textSecondary\" gutterBottom>\n                Delivered Today\n              </Typography>\n              <Typography variant=\"h4\">\n                {statistics.delivered_today}\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={12} sm={6} md={3}>\n          <Card>\n            <CardContent>\n              <Typography color=\"textSecondary\" gutterBottom>\n                Pending Orders\n              </Typography>\n              <Typography variant=\"h4\" color=\"error\">\n                {statistics.pending_orders}\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n\n      {/* 图表和地图 */}\n      <Grid container spacing={3}>\n        {/* 订单趋势 */}\n        <Grid item xs={12} md={6}>\n          <Paper sx={{ p: 2 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Order Trends\n            </Typography>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <LineChart data={orderTrendData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"time\" />\n                <YAxis />\n                <Tooltip />\n                <Legend />\n                <Line type=\"monotone\" dataKey=\"orders\" stroke=\"#8884d8\" />\n              </LineChart>\n            </ResponsiveContainer>\n          </Paper>\n        </Grid>\n\n        {/* 车辆状态分布 */}\n        <Grid item xs={12} md={6}>\n          <Paper sx={{ p: 2 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Vehicle Status Distribution\n            </Typography>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <BarChart data={vehicleStatusData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"status\" />\n                <YAxis />\n                <Tooltip />\n                <Legend />\n                <Bar dataKey=\"count\" fill=\"#82ca9d\" />\n              </BarChart>\n            </ResponsiveContainer>\n          </Paper>\n        </Grid>\n\n        {/* 地图 */}\n        <Grid item xs={12} md={8}>\n          <Paper sx={{ p: 2, height: 400 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Real-Time Vehicle Locations\n            </Typography>\n            <MapContainer\n              center={[45.5017, -73.5673]}\n              zoom={10}\n              style={{ height: '350px', width: '100%' }}\n            >\n              <TileLayer\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n              />\n              {vehicles.map((vehicle) => (\n                vehicle.latitude && vehicle.longitude && (\n                  <Marker\n                    key={vehicle.vehicle_id}\n                    position={[vehicle.latitude, vehicle.longitude]}\n                  >\n                    <Popup>\n                      <div>\n                        <strong>Vehicle ID:</strong> {vehicle.vehicle_id}<br />\n                        <strong>Status:</strong> {vehicle.status}<br />\n                        <strong>Speed:</strong> {vehicle.speed_kmh?.toFixed(1)} km/h<br />\n                        <strong>Capacity:</strong> {vehicle.current_capacity}/{vehicle.max_capacity}\n                      </div>\n                    </Popup>\n                  </Marker>\n                )\n              ))}\n            </MapContainer>\n          </Paper>\n        </Grid>\n\n        {/* 告警列表 */}\n        <Grid item xs={12} md={4}>\n          <Paper sx={{ p: 2, height: 400, overflow: 'auto' }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Real-Time Alerts\n            </Typography>\n            {alerts.length === 0 ? (\n              <Typography color=\"textSecondary\">No Alerts</Typography>\n            ) : (\n              alerts.map((alert, index) => (\n                <Card key={index} sx={{ mb: 1, bgcolor: alert.severity === 'CRITICAL' ? '#ffebee' : '#fff3e0' }}>\n                  <CardContent>\n                    <Typography variant=\"subtitle2\" color=\"error\">\n                      {alert.severity}\n                    </Typography>\n                    <Typography variant=\"body2\">\n                      {alert.data?.description || alert.data?.anomaly_type || '未知告警'}\n                    </Typography>\n                    <Typography variant=\"caption\" color=\"textSecondary\">\n                      {new Date(alert.timestamp).toLocaleString()}\n                    </Typography>\n                  </CardContent>\n                </Card>\n              ))\n            )}\n          </Paper>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n}\n\nexport default App;\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,GAAG,EAAEC,IAAI,EAAEC,KAAK,EAAEC,UAAU,EAAEC,IAAI,EAAEC,WAAW,QAAQ,eAAe;AAC/E,SAASC,SAAS,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,GAAG,EAAEC,KAAK,EAAEC,KAAK,EAAEC,aAAa,EAAEC,OAAO,EAAEC,MAAM,EAAEC,mBAAmB,QAAQ,UAAU;AAC5H,SAASC,YAAY,EAAEC,SAAS,EAAEC,MAAM,EAAEC,KAAK,QAAQ,eAAe;AACtE,OAAO,0BAA0B;AACjC,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,WAAW;;AAElB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,OAAOH,CAAC,CAACI,IAAI,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW;AAC3CP,CAAC,CAACI,IAAI,CAACC,OAAO,CAACG,YAAY,CAAC;EAC1BC,aAAa,EAAE,gFAAgF;EAC/FC,OAAO,EAAE,6EAA6E;EACtFC,SAAS,EAAE;AACb,CAAC,CAAC;AAEF,MAAMC,mBAAmB,GAAG,uBAAuB;AAEnD,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGtC,QAAQ,CAAC;IAC3CuC,kBAAkB,EAAE,CAAC;IACrBC,eAAe,EAAE,CAAC;IAClBC,eAAe,EAAE,CAAC;IAClBC,cAAc,EAAE;EAClB,CAAC,CAAC;EACF,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAG5C,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAAC6C,QAAQ,EAAEC,WAAW,CAAC,GAAG9C,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC+C,MAAM,EAAEC,SAAS,CAAC,GAAGhD,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACiD,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGlD,QAAQ,CAAC,EAAE,CAAC;EAC9D,MAAM,CAACmD,EAAE,EAAEC,KAAK,CAAC,GAAGpD,QAAQ,CAAC,IAAI,CAAC;EAElCC,SAAS,CAAC,MAAM;IACd;IACA,MAAMoD,SAAS,GAAG,IAAIC,SAAS,CAAC,wBAAwB,CAAC;IAEzDD,SAAS,CAACE,MAAM,GAAG,MAAM;MACvBC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;MAC7BL,KAAK,CAACC,SAAS,CAAC;IAClB,CAAC;IAEDA,SAAS,CAACK,SAAS,GAAIC,KAAK,IAAK;MAC/B,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,KAAK,CAACC,IAAI,CAAC;MAEnC,IAAIA,IAAI,CAACG,IAAI,KAAK,eAAe,EAAE;QACjCzB,aAAa,CAACsB,IAAI,CAACA,IAAI,CAACvB,UAAU,IAAIA,UAAU,CAAC;QACjDO,SAAS,CAACoB,MAAM,CAACC,MAAM,CAACL,IAAI,CAACA,IAAI,CAACjB,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;QAChDG,WAAW,CAACkB,MAAM,CAACC,MAAM,CAACL,IAAI,CAACA,IAAI,CAACf,QAAQ,IAAI,CAAC,CAAC,CAAC,CAAC;QACpDG,SAAS,CAACY,IAAI,CAACA,IAAI,CAACb,MAAM,IAAI,EAAE,CAAC;QACjCG,oBAAoB,CAACc,MAAM,CAACC,MAAM,CAACL,IAAI,CAACA,IAAI,CAACM,kBAAkB,IAAI,CAAC,CAAC,CAAC,CAAC;MACzE,CAAC,MAAM,IAAIN,IAAI,CAACG,IAAI,KAAK,gBAAgB,EAAE;QACzC;QACA;MAAA,CACD,MAAM,IAAIH,IAAI,CAACG,IAAI,KAAK,OAAO,EAAE;QAChCf,SAAS,CAACmB,IAAI,IAAI,CAACP,IAAI,CAACA,IAAI,EAAE,GAAGO,IAAI,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;MACtD;IACF,CAAC;IAEDf,SAAS,CAACgB,OAAO,GAAIC,KAAK,IAAK;MAC7Bd,OAAO,CAACc,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;IACtC,CAAC;IAEDjB,SAAS,CAACkB,OAAO,GAAG,MAAM;MACxBf,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;IAC/B,CAAC;;IAED;IACA,MAAMe,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAM,CAACC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,SAAS,EAAEC,cAAc,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACtFxD,KAAK,CAACyD,GAAG,CAAC,GAAG9C,mBAAmB,oBAAoB,CAAC,EACrDX,KAAK,CAACyD,GAAG,CAAC,GAAG9C,mBAAmB,gBAAgB,CAAC,EACjDX,KAAK,CAACyD,GAAG,CAAC,GAAG9C,mBAAmB,kBAAkB,CAAC,EACnDX,KAAK,CAACyD,GAAG,CAAC,GAAG9C,mBAAmB,yBAAyB,CAAC,EAC1DX,KAAK,CAACyD,GAAG,CAAC,GAAG9C,mBAAmB,4BAA4B,CAAC,CAC9D,CAAC;QAEFI,aAAa,CAACmC,QAAQ,CAACb,IAAI,CAAC;QAC5BhB,SAAS,CAAC8B,SAAS,CAACd,IAAI,CAAC;QACzBd,WAAW,CAAC6B,WAAW,CAACf,IAAI,CAAC;QAC7BZ,SAAS,CAAC4B,SAAS,CAAChB,IAAI,CAAC;QACzBV,oBAAoB,CAAC2B,cAAc,CAACjB,IAAI,CAAC;MAC3C,CAAC,CAAC,OAAOU,KAAK,EAAE;QACdd,OAAO,CAACc,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;MACjC;IACF,CAAC;IAEDE,SAAS,CAAC,CAAC;IACX,MAAMS,QAAQ,GAAGC,WAAW,CAACV,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC;;IAE/C,OAAO,MAAM;MACXnB,SAAS,CAAC8B,KAAK,CAAC,CAAC;MACjBC,aAAa,CAACH,QAAQ,CAAC;IACzB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMI,cAAc,GAAG1C,MAAM,CAACyB,KAAK,CAAC,CAAC,EAAE,CAAC,CAACkB,GAAG,CAAC,CAACC,KAAK,EAAEC,KAAK,MAAM;IAC9DC,IAAI,EAAED,KAAK;IACX7C,MAAM,EAAE;EACV,CAAC,CAAC,CAAC;EAEH,MAAM+C,iBAAiB,GAAG,CACxB;IAAEC,MAAM,EAAE,IAAI;IAAEC,KAAK,EAAE/C,QAAQ,CAACgD,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACH,MAAM,KAAK,MAAM,CAAC,CAACI;EAAO,CAAC,EACzE;IAAEJ,MAAM,EAAE,KAAK;IAAEC,KAAK,EAAE/C,QAAQ,CAACgD,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACH,MAAM,KAAK,SAAS,CAAC,CAACI;EAAO,CAAC,EAC7E;IAAEJ,MAAM,EAAE,KAAK;IAAEC,KAAK,EAAE/C,QAAQ,CAACgD,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACH,MAAM,KAAK,YAAY,CAAC,CAACI;EAAO,CAAC,EAChF;IAAEJ,MAAM,EAAE,KAAK;IAAEC,KAAK,EAAE/C,QAAQ,CAACgD,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACH,MAAM,KAAK,YAAY,CAAC,CAACI;EAAO,CAAC,CACjF;EAED,oBACEtE,OAAA,CAACvB,GAAG;IAAC8F,EAAE,EAAE;MAAEC,QAAQ,EAAE,CAAC;MAAEC,CAAC,EAAE,CAAC;MAAEC,eAAe,EAAE,SAAS;MAAEC,SAAS,EAAE;IAAQ,CAAE;IAAAC,QAAA,gBAC7E5E,OAAA,CAACpB,UAAU;MAACiG,OAAO,EAAC,IAAI;MAACC,SAAS,EAAC,IAAI;MAACC,YAAY;MAACR,EAAE,EAAE;QAAES,EAAE,EAAE,CAAC;QAAEC,UAAU,EAAE;MAAO,CAAE;MAAAL,QAAA,EAAC;IAExF;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC,eAGbrF,OAAA,CAACtB,IAAI;MAAC4G,SAAS;MAACC,OAAO,EAAE,CAAE;MAAChB,EAAE,EAAE;QAAES,EAAE,EAAE;MAAE,CAAE;MAAAJ,QAAA,gBACxC5E,OAAA,CAACtB,IAAI;QAAC8G,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,CAAE;QAAAf,QAAA,eAC9B5E,OAAA,CAACnB,IAAI;UAAA+F,QAAA,eACH5E,OAAA,CAAClB,WAAW;YAAA8F,QAAA,gBACV5E,OAAA,CAACpB,UAAU;cAACgH,KAAK,EAAC,eAAe;cAACb,YAAY;cAAAH,QAAA,EAAC;YAE/C;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACbrF,OAAA,CAACpB,UAAU;cAACiG,OAAO,EAAC,IAAI;cAAAD,QAAA,EACrBhE,UAAU,CAACE;YAAkB;cAAAoE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACPrF,OAAA,CAACtB,IAAI;QAAC8G,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,CAAE;QAAAf,QAAA,eAC9B5E,OAAA,CAACnB,IAAI;UAAA+F,QAAA,eACH5E,OAAA,CAAClB,WAAW;YAAA8F,QAAA,gBACV5E,OAAA,CAACpB,UAAU;cAACgH,KAAK,EAAC,eAAe;cAACb,YAAY;cAAAH,QAAA,EAAC;YAE/C;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACbrF,OAAA,CAACpB,UAAU;cAACiG,OAAO,EAAC,IAAI;cAAAD,QAAA,EACrBhE,UAAU,CAACG;YAAe;cAAAmE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACPrF,OAAA,CAACtB,IAAI;QAAC8G,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,CAAE;QAAAf,QAAA,eAC9B5E,OAAA,CAACnB,IAAI;UAAA+F,QAAA,eACH5E,OAAA,CAAClB,WAAW;YAAA8F,QAAA,gBACV5E,OAAA,CAACpB,UAAU;cAACgH,KAAK,EAAC,eAAe;cAACb,YAAY;cAAAH,QAAA,EAAC;YAE/C;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACbrF,OAAA,CAACpB,UAAU;cAACiG,OAAO,EAAC,IAAI;cAAAD,QAAA,EACrBhE,UAAU,CAACI;YAAe;cAAAkE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACPrF,OAAA,CAACtB,IAAI;QAAC8G,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,CAAE;QAAAf,QAAA,eAC9B5E,OAAA,CAACnB,IAAI;UAAA+F,QAAA,eACH5E,OAAA,CAAClB,WAAW;YAAA8F,QAAA,gBACV5E,OAAA,CAACpB,UAAU;cAACgH,KAAK,EAAC,eAAe;cAACb,YAAY;cAAAH,QAAA,EAAC;YAE/C;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACbrF,OAAA,CAACpB,UAAU;cAACiG,OAAO,EAAC,IAAI;cAACe,KAAK,EAAC,OAAO;cAAAhB,QAAA,EACnChE,UAAU,CAACK;YAAc;cAAAiE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGPrF,OAAA,CAACtB,IAAI;MAAC4G,SAAS;MAACC,OAAO,EAAE,CAAE;MAAAX,QAAA,gBAEzB5E,OAAA,CAACtB,IAAI;QAAC8G,IAAI;QAACC,EAAE,EAAE,EAAG;QAACE,EAAE,EAAE,CAAE;QAAAf,QAAA,eACvB5E,OAAA,CAACrB,KAAK;UAAC4F,EAAE,EAAE;YAAEE,CAAC,EAAE;UAAE,CAAE;UAAAG,QAAA,gBAClB5E,OAAA,CAACpB,UAAU;YAACiG,OAAO,EAAC,IAAI;YAACE,YAAY;YAAAH,QAAA,EAAC;UAEtC;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eACbrF,OAAA,CAACR,mBAAmB;YAACqG,KAAK,EAAC,MAAM;YAACC,MAAM,EAAE,GAAI;YAAAlB,QAAA,eAC5C5E,OAAA,CAACjB,SAAS;cAACoD,IAAI,EAAEyB,cAAe;cAAAgB,QAAA,gBAC9B5E,OAAA,CAACX,aAAa;gBAAC0G,eAAe,EAAC;cAAK;gBAAAb,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACvCrF,OAAA,CAACb,KAAK;gBAAC6G,OAAO,EAAC;cAAM;gBAAAd,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACxBrF,OAAA,CAACZ,KAAK;gBAAA8F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACTrF,OAAA,CAACV,OAAO;gBAAA4F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACXrF,OAAA,CAACT,MAAM;gBAAA2F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACVrF,OAAA,CAAChB,IAAI;gBAACsD,IAAI,EAAC,UAAU;gBAAC0D,OAAO,EAAC,QAAQ;gBAACC,MAAM,EAAC;cAAS;gBAAAf,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,eAGPrF,OAAA,CAACtB,IAAI;QAAC8G,IAAI;QAACC,EAAE,EAAE,EAAG;QAACE,EAAE,EAAE,CAAE;QAAAf,QAAA,eACvB5E,OAAA,CAACrB,KAAK;UAAC4F,EAAE,EAAE;YAAEE,CAAC,EAAE;UAAE,CAAE;UAAAG,QAAA,gBAClB5E,OAAA,CAACpB,UAAU;YAACiG,OAAO,EAAC,IAAI;YAACE,YAAY;YAAAH,QAAA,EAAC;UAEtC;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eACbrF,OAAA,CAACR,mBAAmB;YAACqG,KAAK,EAAC,MAAM;YAACC,MAAM,EAAE,GAAI;YAAAlB,QAAA,eAC5C5E,OAAA,CAACf,QAAQ;cAACkD,IAAI,EAAE8B,iBAAkB;cAAAW,QAAA,gBAChC5E,OAAA,CAACX,aAAa;gBAAC0G,eAAe,EAAC;cAAK;gBAAAb,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACvCrF,OAAA,CAACb,KAAK;gBAAC6G,OAAO,EAAC;cAAQ;gBAAAd,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAC1BrF,OAAA,CAACZ,KAAK;gBAAA8F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACTrF,OAAA,CAACV,OAAO;gBAAA4F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACXrF,OAAA,CAACT,MAAM;gBAAA2F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACVrF,OAAA,CAACd,GAAG;gBAAC8G,OAAO,EAAC,OAAO;gBAACE,IAAI,EAAC;cAAS;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9B;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,eAGPrF,OAAA,CAACtB,IAAI;QAAC8G,IAAI;QAACC,EAAE,EAAE,EAAG;QAACE,EAAE,EAAE,CAAE;QAAAf,QAAA,eACvB5E,OAAA,CAACrB,KAAK;UAAC4F,EAAE,EAAE;YAAEE,CAAC,EAAE,CAAC;YAAEqB,MAAM,EAAE;UAAI,CAAE;UAAAlB,QAAA,gBAC/B5E,OAAA,CAACpB,UAAU;YAACiG,OAAO,EAAC,IAAI;YAACE,YAAY;YAAAH,QAAA,EAAC;UAEtC;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eACbrF,OAAA,CAACP,YAAY;YACX0G,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,OAAO,CAAE;YAC5BC,IAAI,EAAE,EAAG;YACTC,KAAK,EAAE;cAAEP,MAAM,EAAE,OAAO;cAAED,KAAK,EAAE;YAAO,CAAE;YAAAjB,QAAA,gBAE1C5E,OAAA,CAACN,SAAS;cACR4G,GAAG,EAAC,oDAAoD;cACxDC,WAAW,EAAC;YAAyF;cAAArB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtG,CAAC,EACDjE,QAAQ,CAACyC,GAAG,CAAE2C,OAAO;cAAA,IAAAC,kBAAA;cAAA,OACpBD,OAAO,CAACE,QAAQ,IAAIF,OAAO,CAACG,SAAS,iBACnC3G,OAAA,CAACL,MAAM;gBAELiH,QAAQ,EAAE,CAACJ,OAAO,CAACE,QAAQ,EAAEF,OAAO,CAACG,SAAS,CAAE;gBAAA/B,QAAA,eAEhD5E,OAAA,CAACJ,KAAK;kBAAAgF,QAAA,eACJ5E,OAAA;oBAAA4E,QAAA,gBACE5E,OAAA;sBAAA4E,QAAA,EAAQ;oBAAW;sBAAAM,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,KAAC,EAACmB,OAAO,CAACK,UAAU,eAAC7G,OAAA;sBAAAkF,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eACvDrF,OAAA;sBAAA4E,QAAA,EAAQ;oBAAO;sBAAAM,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,KAAC,EAACmB,OAAO,CAACtC,MAAM,eAAClE,OAAA;sBAAAkF,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eAC/CrF,OAAA;sBAAA4E,QAAA,EAAQ;oBAAM;sBAAAM,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,KAAC,GAAAoB,kBAAA,GAACD,OAAO,CAACM,SAAS,cAAAL,kBAAA,uBAAjBA,kBAAA,CAAmBM,OAAO,CAAC,CAAC,CAAC,EAAC,OAAK,eAAA/G,OAAA;sBAAAkF,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eAClErF,OAAA;sBAAA4E,QAAA,EAAQ;oBAAS;sBAAAM,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,KAAC,EAACmB,OAAO,CAACQ,gBAAgB,EAAC,GAAC,EAACR,OAAO,CAACS,YAAY;kBAAA;oBAAA/B,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACxE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACD;cAAC,GAVHmB,OAAO,CAACK,UAAU;gBAAA3B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAWjB,CACT;YAAA,CACF,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACU,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,eAGPrF,OAAA,CAACtB,IAAI;QAAC8G,IAAI;QAACC,EAAE,EAAE,EAAG;QAACE,EAAE,EAAE,CAAE;QAAAf,QAAA,eACvB5E,OAAA,CAACrB,KAAK;UAAC4F,EAAE,EAAE;YAAEE,CAAC,EAAE,CAAC;YAAEqB,MAAM,EAAE,GAAG;YAAEoB,QAAQ,EAAE;UAAO,CAAE;UAAAtC,QAAA,gBACjD5E,OAAA,CAACpB,UAAU;YAACiG,OAAO,EAAC,IAAI;YAACE,YAAY;YAAAH,QAAA,EAAC;UAEtC;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,EACZ/D,MAAM,CAACgD,MAAM,KAAK,CAAC,gBAClBtE,OAAA,CAACpB,UAAU;YAACgH,KAAK,EAAC,eAAe;YAAAhB,QAAA,EAAC;UAAS;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,GAExD/D,MAAM,CAACuC,GAAG,CAAC,CAACsD,KAAK,EAAEpD,KAAK;YAAA,IAAAqD,WAAA,EAAAC,YAAA;YAAA,oBACtBrH,OAAA,CAACnB,IAAI;cAAa0F,EAAE,EAAE;gBAAES,EAAE,EAAE,CAAC;gBAAEsC,OAAO,EAAEH,KAAK,CAACI,QAAQ,KAAK,UAAU,GAAG,SAAS,GAAG;cAAU,CAAE;cAAA3C,QAAA,eAC9F5E,OAAA,CAAClB,WAAW;gBAAA8F,QAAA,gBACV5E,OAAA,CAACpB,UAAU;kBAACiG,OAAO,EAAC,WAAW;kBAACe,KAAK,EAAC,OAAO;kBAAAhB,QAAA,EAC1CuC,KAAK,CAACI;gBAAQ;kBAAArC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC,eACbrF,OAAA,CAACpB,UAAU;kBAACiG,OAAO,EAAC,OAAO;kBAAAD,QAAA,EACxB,EAAAwC,WAAA,GAAAD,KAAK,CAAChF,IAAI,cAAAiF,WAAA,uBAAVA,WAAA,CAAYI,WAAW,OAAAH,YAAA,GAAIF,KAAK,CAAChF,IAAI,cAAAkF,YAAA,uBAAVA,YAAA,CAAYI,YAAY,KAAI;gBAAM;kBAAAvC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACpD,CAAC,eACbrF,OAAA,CAACpB,UAAU;kBAACiG,OAAO,EAAC,SAAS;kBAACe,KAAK,EAAC,eAAe;kBAAAhB,QAAA,EAChD,IAAI8C,IAAI,CAACP,KAAK,CAACQ,SAAS,CAAC,CAACC,cAAc,CAAC;gBAAC;kBAAA1C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACjC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF;YAAC,GAXLtB,KAAK;cAAAmB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAYV,CAAC;UAAA,CACR,CACF;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAAC1E,EAAA,CA9PQD,GAAG;AAAAmH,EAAA,GAAHnH,GAAG;AAgQZ,eAAeA,GAAG;AAAC,IAAAmH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}