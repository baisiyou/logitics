FROM python:3.11-slim

WORKDIR /app

# Install dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy application code
COPY confluent/stream_processors/ ./stream_processors/
COPY data-sources/schemas/ ./data-sources/schemas/

WORKDIR /app/stream_processors

# Default to order enricher, can be overridden
CMD ["python", "order_enricher.py"]

